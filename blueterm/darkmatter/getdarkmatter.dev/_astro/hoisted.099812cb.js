import"./hoisted.ae1305ea.js";let m;(function(o){let s=function(){function n(){this._dropEffect="move",this._effectAllowed="all",this._data={}}return Object.defineProperty(n.prototype,"dropEffect",{get:function(){return this._dropEffect},set:function(t){this._dropEffect=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"effectAllowed",{get:function(){return this._effectAllowed},set:function(t){this._effectAllowed=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"types",{get:function(){return Object.keys(this._data)},enumerable:!0,configurable:!0}),n.prototype.clearData=function(t){t!==null?delete this._data[t.toLowerCase()]:this._data={}},n.prototype.getData=function(t){let e=t.toLowerCase(),r=this._data[e];return e==="text"&&r==null&&(r=this._data["text/plain"]),r||""},n.prototype.setData=function(t,e){this._data[t.toLowerCase()]=e},n.prototype.setDragImage=function(t,e,r){let i=a._instance;i._imgCustom=t,i._imgOffset={x:e,y:r}},n}();o.DataTransfer=s;let a=function(){function n(){if(this._lastClick=0,n._instance)throw"DragDropTouch instance already created.";let t=!1;if(document.addEventListener("test",function(){},{get passive(){return t=!0,!0}}),navigator.maxTouchPoints){let e=document,r=this._touchstart.bind(this),i=this._touchmove.bind(this),u=this._touchend.bind(this),g=t?{passive:!1,capture:!1}:!1;e.addEventListener("touchstart",r,g),e.addEventListener("touchmove",i,g),e.addEventListener("touchend",u),e.addEventListener("touchcancel",u)}}return n.getInstance=function(){return n._instance},n.prototype._touchstart=function(t){let e=this;if(this._shouldHandle(t)){this._reset();let r=this._closestDraggable(t.target);r&&!this._dispatchEvent(t,"mousemove",t.target)&&!this._dispatchEvent(t,"mousedown",t.target)&&(this._dragSource=r,this._ptDown=this._getPoint(t),this._lastTouch=t,setTimeout(function(){e._dragSource===r&&e._img===null&&e._dispatchEvent(t,"contextmenu",r)&&e._reset()},n._CTXMENU),n._ISPRESSHOLDMODE&&(this._pressHoldInterval=setTimeout(function(){e._isDragEnabled=!0,e._touchmove(t)},n._PRESSHOLDAWAIT)))}},n.prototype._touchmove=function(t){if(this._shouldCancelPressHoldMove(t)){this._reset();return}if(this._shouldHandleMove(t)||this._shouldHandlePressHoldMove(t)){let e=this._getTarget(t);if(this._dispatchEvent(t,"mousemove",e)){this._lastTouch=t,t.preventDefault();return}if(this._dragSource&&!this._img&&this._shouldStartDragging(t)){if(this._dispatchEvent(this._lastTouch,"dragstart",this._dragSource)){this._dragSource=null;return}this._createImage(t),this._dispatchEvent(t,"dragenter",e)}this._img&&(this._lastTouch=t,t.preventDefault(),this._dispatchEvent(t,"drag",this._dragSource),e!==this._lastTarget&&(this._dispatchEvent(this._lastTouch,"dragleave",this._lastTarget),this._dispatchEvent(t,"dragenter",e),this._lastTarget=e),this._moveImage(t),this._isDropZone=this._dispatchEvent(t,"dragover",e))}},n.prototype._touchend=function(t){if(this._shouldHandle(t)){if(this._dispatchEvent(this._lastTouch,"mouseup",t.target)){t.preventDefault();return}this._img||(this._dragSource=null,this._dispatchEvent(this._lastTouch,"click",t.target),this._lastClick=Date.now()),this._destroyImage(),this._dragSource&&(t.type.indexOf("cancel")<0&&this._isDropZone&&this._dispatchEvent(this._lastTouch,"drop",this._lastTarget),this._dispatchEvent(this._lastTouch,"dragend",this._dragSource),this._reset())}},n.prototype._shouldHandle=function(t){return t&&!t.defaultPrevented&&t.touches&&t.touches.length<2},n.prototype._shouldHandleMove=function(t){return!n._ISPRESSHOLDMODE&&this._shouldHandle(t)},n.prototype._shouldHandlePressHoldMove=function(t){return n._ISPRESSHOLDMODE&&this._isDragEnabled&&t&&t.touches&&t.touches.length},n.prototype._shouldCancelPressHoldMove=function(t){return n._ISPRESSHOLDMODE&&!this._isDragEnabled&&this._getDelta(t)>n._PRESSHOLDMARGIN},n.prototype._shouldStartDragging=function(t){let e=this._getDelta(t);return e>n._THRESHOLD||n._ISPRESSHOLDMODE&&e>=n._PRESSHOLDTHRESHOLD},n.prototype._reset=function(){this._destroyImage(),this._dragSource=null,this._lastTouch=null,this._lastTarget=null,this._ptDown=null,this._isDragEnabled=!1,this._isDropZone=!1,this._dataTransfer=new s,clearInterval(this._pressHoldInterval)},n.prototype._getPoint=function(t,e){return t&&t.touches&&(t=t.touches[0]),{x:e?t.pageX:t.clientX,y:e?t.pageY:t.clientY}},n.prototype._getDelta=function(t){if(n._ISPRESSHOLDMODE&&!this._ptDown)return 0;let e=this._getPoint(t);return Math.abs(e.x-this._ptDown.x)+Math.abs(e.y-this._ptDown.y)},n.prototype._getTarget=function(t){let e=this._getPoint(t),r=document.elementFromPoint(e.x,e.y);for(;r&&getComputedStyle(r).pointerEvents=="none";)r=r.parentElement;return r},n.prototype._createImage=function(t){this._img&&this._destroyImage();let e=this._imgCustom||this._dragSource;if(this._img=e.cloneNode(!0),this._copyStyle(e,this._img),this._img.style.top=this._img.style.left="-9999px",!this._imgCustom){let r=e.getBoundingClientRect(),i=this._getPoint(t);this._imgOffset={x:i.x-r.left,y:i.y-r.top},this._img.style.opacity=n._OPACITY.toString()}this._moveImage(t),document.body.appendChild(this._img)},n.prototype._destroyImage=function(){this._img&&this._img.parentElement&&this._img.parentElement.removeChild(this._img),this._img=null,this._imgCustom=null},n.prototype._moveImage=function(t){let e=this;requestAnimationFrame(function(){if(e._img){let r=e._getPoint(t,!0),i=e._img.style;i.position="absolute",i.pointerEvents="none",i.zIndex="999999",i.left=Math.round(r.x-e._imgOffset.x)+"px",i.top=Math.round(r.y-e._imgOffset.y)+"px"}})},n.prototype._copyProps=function(t,e,r){for(let i=0;i<r.length;i++){let u=r[i];t[u]=e[u]}},n.prototype._copyStyle=function(t,e){if(n._rmvAtts.forEach(function(i){e.removeAttribute(i)}),t instanceof HTMLCanvasElement){let i=t,u=e;u.width=i.width,u.height=i.height,u.getContext("2d").drawImage(i,0,0)}let r=getComputedStyle(t);for(let i=0;i<r.length;i++){let u=r[i];u.indexOf("transition")<0&&(e.style[u]=r[u])}e.style.pointerEvents="none";for(let i=0;i<t.children.length;i++)this._copyStyle(t.children[i],e.children[i])},n.prototype._setOffsetAndLayerProps=function(t,e){let r;t.offsetX===void 0&&(r=e.getBoundingClientRect(),t.offsetX=t.clientX-r.x,t.offsetY=t.clientY-r.y),t.layerX===void 0&&(r=r||e.getBoundingClientRect(),t.layerX=t.pageX-r.left,t.layerY=t.pageY-r.top)},n.prototype._dispatchEvent=function(t,e,r){if(t&&r){let i=new Event(e,{bubbles:!0,cancelable:!0}),u=t.touches?t.touches[0]:t;return i.button=0,i.which=i.buttons=1,this._copyProps(i,t,n._kbdProps),this._copyProps(i,u,n._ptProps),this._setOffsetAndLayerProps(i,r),i.dataTransfer=this._dataTransfer,r.dispatchEvent(i),i.defaultPrevented}return!1},n.prototype._closestDraggable=function(t){for(;t;t=t.parentElement)if(t.draggable)return t;return null},n}();a._instance=new a,a._THRESHOLD=5,a._OPACITY=.5,a._DBLCLICK=500,a._CTXMENU=900,a._ISPRESSHOLDMODE=!1,a._PRESSHOLDAWAIT=400,a._PRESSHOLDMARGIN=25,a._PRESSHOLDTHRESHOLD=0,a._rmvAtts="id,class,style,draggable".split(","),a._kbdProps="altKey,ctrlKey,metaKey,shiftKey".split(","),a._ptProps="pageX,pageY,clientX,clientY,screenX,screenY,offsetX,offsetY".split(","),o.DragDropTouch=a})(m||(m={}));let l={content:["# Example post","","This is an interactive demo. Try typing stuff here and in the sidebar."].join(`
`),frontmatter:{title:document.querySelector(".js-frontmatter-title-input")?.getAttribute("value")??"",featured:document.querySelector(".js-frontmatter-featured-input")?.hasAttribute("aria-checked")??!1,date:document.querySelector(".js-frontmatter-date-input")?.getAttribute("value")??""}};const d=structuredClone(l);function _(o){o.classList.remove("flash"),requestAnimationFrame(()=>{o.classList.add("flash")})}const y=document.querySelector(".js-content"),h=document.querySelector(".js-frontmatter-title"),f=document.querySelector(".js-frontmatter-featured"),p=document.querySelector(".js-frontmatter-date");function c(){const o=l.content!==d.content||l.frontmatter.title!==d.frontmatter.title||l.frontmatter.featured!==d.frontmatter.featured||l.frontmatter.date!==d.frontmatter.date,s=document.querySelector(".js-tabs button#editor-demo-trigger-post[role=tab]");o?s?.setAttribute("data-changed","true"):s?.removeAttribute("data-changed"),y&&(y.innerHTML=l.content),h&&(h.innerHTML=l.frontmatter.title),f&&(f.innerHTML=String(l.frontmatter.featured)),p&&(p.innerHTML=l.frontmatter.date)}function v(){const o=document.querySelector(".js-tabs");o&&o.addEventListener("click",s=>{if(!(s.target instanceof HTMLButtonElement))return;const a=o.querySelector('button[role="tab"][aria-selected]');if(!a||a===s.target)return;a.removeAttribute("aria-selected"),s.target.setAttribute("aria-selected","true"),o.querySelector(`div#${a.getAttribute("aria-controls")}[role=tabpanel]`)?.setAttribute("hidden",""),o.querySelector(`div#${s.target.getAttribute("aria-controls")}[role=tabpanel]`)?.removeAttribute("hidden")})}function E(){const o=document.querySelector(".js-markdown-editor");!o||!(o instanceof HTMLTextAreaElement)||(o.value=l.content,o.addEventListener("input",s=>{s.target instanceof HTMLTextAreaElement&&(l.content=s.target.value,c())}))}function S(){document.querySelector(".js-frontmatter-title-input")?.addEventListener("input",s=>{s.target instanceof HTMLInputElement&&(l.frontmatter.title=s.target.value,c(),h&&_(h))})}function b(){const o=document.querySelector(".js-frontmatter-featured-input");o?.addEventListener("click",()=>{o.hasAttribute("aria-checked")?o.removeAttribute("aria-checked"):o.setAttribute("aria-checked","true"),l.frontmatter.featured=o.hasAttribute("aria-checked"),c(),f&&_(f)})}function T(){document.querySelector(".js-frontmatter-date-input")?.addEventListener("input",s=>{s.target instanceof HTMLInputElement&&(l.frontmatter.date=s.target.value,c(),p&&_(p))})}v();E();S();b();T();c();function D(){const o=document.querySelector("#drag-drop-window"),s=document.querySelector("#drag-drop-target"),a=document.querySelector(".js-draggable-item");!(o instanceof HTMLDivElement)||!(s instanceof HTMLParagraphElement)||!(a instanceof HTMLDivElement)||(a.addEventListener("touchstart",()=>{document.body.style.overflow="hidden"}),a.addEventListener("touchend",()=>{document.body.style.overflow="initial"}),o.addEventListener("dragover",n=>{n.preventDefault(),n.dataTransfer&&(n.dataTransfer.dropEffect="copy"),o.dataset.dragActive="true"}),o.addEventListener("drop",()=>{o.dataset.dropped="true",s.innerText="![](/public/mountains.png)",delete o.dataset.dragActive}),o.addEventListener("dragleave",n=>{delete o.dataset.dragActive}))}D();function L(){const o=document.querySelector(".js-publish-darkmatter-window"),s=document.querySelector(".js-publish-safari-window"),a=document.querySelector(".js-publish-button");!(o instanceof HTMLDivElement)||!(s instanceof HTMLDivElement)||!(a instanceof HTMLButtonElement)||a.addEventListener("click",()=>{a.dataset.state==="initial"&&(a.dataset.state="loading",setTimeout(()=>{a.dataset.state="completed",setTimeout(()=>{o.dataset.closed="true",setTimeout(()=>{s.removeAttribute("data-closed")},300)},1e3)},1500))})}L();
